(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{174:function(t,e,r){var content=r(184);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(54).default)("56f9b1bc",content,!0,{sourceMap:!1})},175:function(t,e,r){"use strict";var n=r(3),o=r(15),c=r(20),l=r(108),f=r(55),d=r(10),v=r(38).f,h=r(56).f,m=r(9).f,y=r(176).trim,w=n.Number,x=w,O=w.prototype,_="Number"==c(r(71)(O)),j="trim"in String.prototype,C=function(t){var e=f(t,!1);if("string"==typeof e&&e.length>2){var r,n,o,c=(e=j?e.trim():y(e,3)).charCodeAt(0);if(43===c||45===c){if(88===(r=e.charCodeAt(2))||120===r)return NaN}else if(48===c){switch(e.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+e}for(var code,l=e.slice(2),i=0,d=l.length;i<d;i++)if((code=l.charCodeAt(i))<48||code>o)return NaN;return parseInt(l,n)}}return+e};if(!w(" 0o1")||!w("0b1")||w("+0x1")){w=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof w&&(_?d((function(){O.valueOf.call(r)})):"Number"!=c(r))?l(new x(C(e)),r,w):C(e)};for(var N,S=r(8)?v(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;S.length>E;E++)o(x,N=S[E])&&!o(w,N)&&m(w,N,h(x,N));w.prototype=O,O.constructor=w,r(11)(n,"Number",w)}},176:function(t,e,r){var n=r(7),o=r(19),c=r(10),l=r(177),f="["+l+"]",d=RegExp("^"+f+f+"*"),v=RegExp(f+f+"*$"),h=function(t,e,r){var o={},f=c((function(){return!!l[t]()||"​"!="​"[t]()})),d=o[t]=f?e(m):l[t];r&&(o[r]=d),n(n.P+n.F*f,"String",o)},m=h.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(d,"")),2&e&&(t=t.replace(v,"")),t};t.exports=h},177:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},178:function(t,e,r){var content=r(186);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(54).default)("1471ff48",content,!0,{sourceMap:!1})},179:function(t,e,r){var content=r(188);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(54).default)("ad9edeac",content,!0,{sourceMap:!1})},181:function(t,e,r){"use strict";r(175);var n=r(37);r(107),r(106);function o(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,r){return e.apply(this,arguments)};case 3:return function(t,r,n){return e.apply(this,arguments)};case 4:return function(t,r,n,o){return e.apply(this,arguments)};case 5:return function(t,r,n,o,c){return e.apply(this,arguments)};case 6:return function(t,r,n,o,c,l){return e.apply(this,arguments)};case 7:return function(t,r,n,o,c,l,f){return e.apply(this,arguments)};case 8:return function(t,r,n,o,c,l,f,d){return e.apply(this,arguments)};case 9:return function(t,r,n,o,c,l,f,d,v){return e.apply(this,arguments)};case 10:return function(t,r,n,o,c,l,f,d,v,h){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function c(t,g){return function(){return g.call(this,t.apply(this,arguments))}}function l(a){return null!=a&&"object"==typeof a&&!0===a["@@functional/placeholder"]}function f(t){return function e(a){return 0===arguments.length||l(a)?e:t.apply(this,arguments)}}function d(t){return function e(a,b){switch(arguments.length){case 0:return e;case 1:return l(a)?e:f((function(e){return t(a,e)}));default:return l(a)&&l(b)?e:l(a)?f((function(e){return t(e,b)})):l(b)?f((function(e){return t(a,e)})):t(a,b)}}}function v(t){return function e(a,b,r){switch(arguments.length){case 0:return e;case 1:return l(a)?e:d((function(e,r){return t(a,e,r)}));case 2:return l(a)&&l(b)?e:l(a)?d((function(e,r){return t(e,b,r)})):l(b)?d((function(e,r){return t(a,e,r)})):f((function(e){return t(a,b,e)}));default:return l(a)&&l(b)&&l(r)?e:l(a)&&l(b)?d((function(e,n){return t(e,n,r)})):l(a)&&l(r)?d((function(e,r){return t(e,b,r)})):l(b)&&l(r)?d((function(e,r){return t(a,e,r)})):l(a)?f((function(e){return t(e,b,r)})):l(b)?f((function(e){return t(a,e,r)})):l(r)?f((function(e){return t(a,b,e)})):t(a,b,r)}}}var h=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)};var m=f((function(t){return!!h(t)||!!t&&("object"==typeof t&&(!function(t){return"[object String]"===Object.prototype.toString.call(t)}(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))})),y=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},t}();var w=d((function(t,e){return o(t.length,(function(){return t.apply(e,arguments)}))}));function x(t,e,r){for(var n=r.next();!n.done;){if((e=t["@@transducer/step"](e,n.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n=r.next()}return t["@@transducer/result"](e)}function O(t,e,r,n){return t["@@transducer/result"](r[n](w(t["@@transducer/step"],t),e))}var _="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function j(t,e,r){if("function"==typeof t&&(t=function(t){return new y(t)}(t)),m(r))return function(t,e,r){for(var n=0,o=r.length;n<o;){if((e=t["@@transducer/step"](e,r[n]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n+=1}return t["@@transducer/result"](e)}(t,e,r);if("function"==typeof r["fantasy-land/reduce"])return O(t,e,r,"fantasy-land/reduce");if(null!=r[_])return x(t,e,r[_]());if("function"==typeof r.next)return x(t,e,r);if("function"==typeof r.reduce)return O(t,e,r,"reduce");throw new TypeError("reduce: list must be array or iterable")}var C=v(j);function N(t,e){return function(){var r=arguments.length;if(0===r)return e();var n=arguments[r-1];return h(n)||"function"!=typeof n[t]?e.apply(this,arguments):n[t].apply(n,Array.prototype.slice.call(arguments,0,r-1))}}var S=f(N("tail",v(N("slice",(function(t,e,r){return Array.prototype.slice.call(r,t,e)})))(1,1/0)));function E(t,e){return Object.prototype.hasOwnProperty.call(e,t)}var k=Object.prototype.toString,P=function(){return"[object Arguments]"===k.call(arguments)?function(t){return"[object Arguments]"===k.call(t)}:function(t){return E("callee",t)}}(),I=!{toString:null}.propertyIsEnumerable("toString"),A=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],V=function(){return arguments.propertyIsEnumerable("length")}(),L=function(t,e){for(var r=0;r<t.length;){if(t[r]===e)return!0;r+=1}return!1},T="function"!=typeof Object.keys||V?f((function(t){if(Object(t)!==t)return[];var e,r,n=[],o=V&&P(t);for(e in t)!E(e,t)||o&&"length"===e||(n[n.length]=e);if(I)for(r=A.length-1;r>=0;)E(e=A[r],t)&&!L(n,e)&&(n[n.length]=e),r-=1;return n})):f((function(t){return Object(t)!==t?[]:Object.keys(t)})),M=f((function(t){for(var e=T(t),r=e.length,n=[],o=0;o<r;)n[o]=t[e[o]],o+=1;return n})),$=d((function(t,e){return Array.prototype.slice.call(e,0).sort((function(a,b){var e=t(a),r=t(b);return e<r?-1:e>r?1:0}))})),z=d((function(t,e){for(var r=e,n=0;n<t.length;){if(null==r)return;r=r[t[n]],n+=1}return r})),F=d((function(p,t){return z([p],t)}));function J(t){var e=t.ledger.split(/\n/g).slice(1),r={sek:1},l=1;return function(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return o(arguments[0].length,C(c,arguments[0],S(arguments)))}(C((function(e,o){var c=o.toLowerCase().match(/^([+-]?(?:[0-9]*[.])?[0-9]+)([a-z]{3})? +([^ ]+) *(.*)$/);if(c){var f=Object(n.a)(c,4),d=f[1],v=f[2],h=f[3],m=e[h]=e[h]||{amount:0,budget:Number(t.budget[h])||0,name:h},y=v?r[v]:l;return m.amount+=Number(d)/y,e}var w=o.toLowerCase().match(/^-([a-z]{3}) +([+-]?(?:[0-9]*[.])?[0-9]+)$/);if(w){var x=Object(n.a)(w,3),code=x[1],O=x[2];return l=r[code]=Number(O),e}return e}),{}),M,$(F("name")))(e)}function B(t){return J(t).map((function(t){return t.amount})).reduce((function(a,b){return a+b}),0)}function D(t){return J(t).map((function(t){return t.budget})).reduce((function(a,b){return a+b}),0)}r.d(e,"a",(function(){return J})),r.d(e,"c",(function(){return B})),r.d(e,"b",(function(){return D}))},183:function(t,e,r){"use strict";var n=r(174);r.n(n).a},184:function(t,e,r){(t.exports=r(53)(!1)).push([t.i,".ledger{font-family:monospace;width:100%;position:relative;padding-bottom:300px}.ledger-input{width:100%;font-size:inherit;font-family:inherit;word-spacing:inherit}.ledger-input--facade{height:auto}.ledger-input--textarea{border:0;height:100%;position:absolute;top:0;padding-left:7px!important;background-color:transparent;color:transparent;caret-color:#000}",""])},185:function(t,e,r){"use strict";var n=r(178);r.n(n).a},186:function(t,e,r){(t.exports=r(53)(!1)).push([t.i,".overview{font-family:monospace}.overview-category,.overview-total{display:flex}.overview-category{margin-bottom:10px}.overview-total{border-top:1px solid #ccc;margin-top:17px;padding-top:11px}.overview-amount{margin-left:auto}.overview-divider{margin:0 5px}.overview-budget{width:50px;padding:0 0 1px;border:0;border-bottom:1px dashed #333}.chart{width:100%;height:0;padding-bottom:62.5%;margin-top:20px;position:relative}.chart-canvas{width:100%;height:100%;position:absolute}",""])},187:function(t,e,r){"use strict";var n=r(179);r.n(n).a},188:function(t,e,r){(t.exports=r(53)(!1)).push([t.i,"*{box-sizing:border-box}body{font-size:16px}button,input,textarea{font-size:inherit}.nav{position:-webkit-sticky;position:sticky;background:rgba(245,248,255,.95);z-index:1;left:0;top:0;right:0}.nav-view{float:right}.box{padding:10px}.btn{-moz-appearance:none;-webkit-appearance:none;background:transparent;border:none;padding:2px 0;display:inline-block;text-decoration:none;color:#003eb4;font-family:inherit;font-weight:600}",""])},192:function(t,e,r){"use strict";r.r(e);r(73);var n={props:["period"],methods:{linebreaktobr:function(text){return text.replace(/\n/g,"<br>")+"&nbsp;"}}},o=(r(183),r(21)),c=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"ledger"},[r("div",{staticClass:"ledger-input ledger-input--facade box",domProps:{innerHTML:t._s(t.linebreaktobr(t.period.ledger))}}),t._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.period.ledger,expression:"period.ledger"}],staticClass:"ledger-input ledger-input--textarea box",domProps:{value:t.period.ledger},on:{input:function(e){e.target.composing||t.$set(t.period,"ledger",e.target.value)}}})])}),[],!1,null,null,null).exports,l=(r(72),r(27),r(22),r(16),r(57),r(37)),f=r(48),d=(r(107),r(106),r(181));function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(source,!0).forEach((function(e){Object(f.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(source).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={props:["period"],methods:{currentCategories:function(){return Object(d.a)(this.period)},totalSpent:d.c,totalBudget:d.b,overViewChart:function(){var t=this,e=this.period.ledger.split(/\n/g).slice(1).reduce((function(t,line){var e=t[t.length-1],r=line.match(/^#(.+)/);return r?t.push({name:r[1],ledger:""}):e&&(e.ledger+=line+"\n"),t}),[]).map((function(e,i){return[i,Object(d.c)(h({},t.period,{ledger:e.ledger}))]})),r=Math.max.apply(null,e.map((function(t){var e=Object(l.a)(t,2);e[0];return e[1]}))),n=e.map((function(t){var n=Object(l.a)(t,2),o=n[0],c=n[1];return[o/e.length*640,480-c/r*480]}));return console.log(n,r),n}}},y=(r(185),{components:{Ledger:c,Overview:Object(o.a)(m,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"overview box"},[t._l(t.currentCategories(),(function(e){return r("div",{key:e.name,staticClass:"overview-category"},[r("span",{staticClass:"overview-name"},[t._v(t._s(e.name))]),t._v(" "),r("span",{staticClass:"overview-amount"},[t._v(t._s(t._f("round")(e.amount)))]),t._v(" "),r("span",{staticClass:"overview-divider"},[t._v("/")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.period.budget[e.name],expression:"period.budget[item.name]"}],staticClass:"overview-budget",domProps:{value:t.period.budget[e.name]},on:{input:function(r){r.target.composing||t.$set(t.period.budget,e.name,r.target.value)}}})])})),t._v(" "),r("div",{staticClass:"overview-total"},[r("span",{staticClass:"overview-name"},[t._v("Total:")]),t._v(" "),r("span",{staticClass:"overview-amount"},[t._v(t._s(t._f("round")(t.totalSpent(t.period))))]),t._v(" "),r("span",{staticClass:"overview-divider"},[t._v("/")]),t._v(" "),r("span",{staticClass:"overview-budget"},[t._v(t._s(t._f("round")(t.totalBudget(t.period))))])]),t._v(" "),r("div",{staticClass:"chart"},[r("svg",{staticClass:"chart-canvas",attrs:{viewBox:"0 0 640 480"}},[r("polyline",{attrs:{fill:"none",stroke:"#90f","stroke-width":"3",points:t.overViewChart()}})])])],2)}),[],!1,null,null,null).exports},data:function(){return{currentView:"Ledger",periods:[],currentPeriod:this.$route.params.currentPeriod}},watch:{periods:{handler:function(t){localStorage.periods=JSON.stringify(t)},deep:!0},currentPeriod:function(t){localStorage.currentPeriod=JSON.stringify(t)}},mounted:function(){if(localStorage.periods)try{this.periods=JSON.parse(localStorage.periods)}catch(t){console.error(t)}},methods:{toggleView:function(){this.currentView="Ledger"===this.currentView?"Overview":"Ledger"}}}),w=(r(187),Object(o.a)(y,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.periods[t.currentPeriod]?r("div",{staticClass:"container"},[r("div",{staticClass:"nav box"},[r("nuxt-link",{staticClass:"btn",attrs:{to:"/"}},[t._v("< Budgets")]),t._v(" "),r("button",{staticClass:"nav-view btn",on:{click:function(e){return t.toggleView()}}},[t._v("\n      Show "+t._s("Ledger"===t.currentView?"overview":"ledger")+"\n    ")])],1),t._v(" "),r(t.currentView,{tag:"component",attrs:{period:t.periods[t.currentPeriod]}})],1):t._e()}),[],!1,null,null,null));e.default=w.exports}}]);